{"version":3,"sources":["components/Map.js","actions/index.js","components/NavBar.js","components/App.js","reducers/data.js","reducers/ui.js","reducers/user.js","reducers/index.js","index.js"],"names":["Map","bombs","this","props","mapData","map","item","i","key","site","className","text","topLeft","a","size","x","y","b","ar","aspectRatio","walls","id","mira","userState","miras","w","h","onChange","actions","clickWall","active","reinforcedWalls","hatches","overHatch","underHatch","clickHatch","reinforcedHatches","mutes","Object","keys","k","clickMute","bind","players","clickPlayer","newWalls","clickReinforceEdit","viewBoxes","viewBox","floor","preserveAspectRatio","patternUnits","width","height","xlinkHref","fill","href","image","onClick","evt","svg","document","getElementById","pt","createSVGPoint","clientX","clientY","cursorpt","matrixTransform","getScreenCTM","inverse","clickMap","React","Component","Wall","tl","sz","triangleCoords","points","join","Hatch","state","setState","undefined","style","opacity","mask","Bomb","rx","ry","Mute","Player","NewWall","CLICK_WALL","CLICK_HATCH","CLICK_MAP","CLICK_MUTE","CLICK_PLAYER","CLICK_REINFORCE_EDIT","SELECT_TOOL","SELECT_FLOOR","SELECT_MAP","Tools","REINFORCE","MIRA","MUTE","PLAYER","REINFORCE_EDIT","type","selectTool","selectFloor","selectMap","NavBar","mapsData","selectedFloor","ui","selectedTool","tool","ToolPicker","nReinforces","length","nMiras","nMutes","nPlayers","FloorPicker","buttons","floors","floorName","MapPicker","e","target","value","FloorButton","App","data","maps","user","connect","dispatch","bindActionCreators","convertMap","bank","border","clubhouse","convertCoords","coords","res","assign","forEach","md","bomb","hatch","wall","combineReducers","action","console","log","firstClick","ptA","JSON","stringify","values","store","createStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.21aa1908.chunk.js","sourcesContent":["import React from 'react';\n\nexport class Map extends React.Component {\n    render() {\n      const bombs = this.props.mapData.bombs.map((item, i) =>\n        <g key={item.site} className={\"bomb\"+(i+1)}>\n          <Bomb text=\"a\" topLeft={item.a} size={{x:30, y:40}} />\n          <Bomb text=\"b\" topLeft={item.b} size={{x:30, y:40}} />\n        </g>\n      );\n      const ar = this.props.mapData.aspectRatio;\n      const walls = this.props.mapData.walls.map((item, i) =>\n        <Wall key={i} id={i} mira={i in this.props.userState.miras ? this.props.userState.miras[i] : false} topLeft={{x: item.x, y: item.y}} size={{x: item.w, y:item.h}} onChange={this.props.actions.clickWall}\n        active={i in this.props.userState.reinforcedWalls}/>\n      );\n      const hatches = this.props.mapData.hatches.map((item, i) =>\n        <Hatch key={i} id={i} overHatch={item[0]} underHatch={item[1]} onChange={this.props.actions.clickHatch}\n        active={i in this.props.userState.reinforcedHatches}/>\n      );\n      const mutes = Object.keys(this.props.userState.mutes).map(function(k) {\n        const item = this.props.userState.mutes[k];\n        return <Mute key={k} id={k} topLeft={{x: item.x, y: item.y}} size={{x: item.w, y:item.h}} onChange={this.props.actions.clickMute} />\n      }.bind(this));\n      const players = Object.keys(this.props.userState.players).map(function(k) {\n        const item = this.props.userState.players[k];\n        return <Player key={k} id={k} topLeft={{x: item.x, y: item.y}} size={{x: item.w, y:item.h}} onChange={this.props.actions.clickPlayer} />\n      }.bind(this));\n\n      const newWalls = Object.keys(this.props.userState.newWalls.walls).map(function(k) {\n        const item = this.props.userState.newWalls.walls[k];\n        return <NewWall key={k} id={k} topLeft={{x: item.x, y: item.y}} size={{x: item.w, y:item.h}} onChange={this.props.actions.clickReinforceEdit} />\n      }.bind(this));\n      const viewBoxes = [[-1000 * ar , -1000, 1000 * ar, 1000], [0, -1000, 1000 * ar, 1000], [-1000 * ar, 0, 1000 * ar, 1000], [0, 0, 1000 * ar, 1000]];\n      return (\n        <div id=\"map\">\n        <svg id=\"svg\" viewBox={viewBoxes[this.props.floor]} preserveAspectRatio=\"xMidYMid meet\">\n          <pattern id=\"diagonal-stripe-4\" patternUnits=\"userSpaceOnUse\" width=\"10\" height=\"10\"> <image xlinkHref=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSdibGFjaycvPgogIDxwYXRoIGQ9J00tMSwxIGwyLC0yCiAgICAgICAgICAgTTAsMTAgbDEwLC0xMAogICAgICAgICAgIE05LDExIGwyLC0yJyBzdHJva2U9J3doaXRlJyBzdHJva2Utd2lkdGg9JzMnLz4KPC9zdmc+\" x=\"0\" y=\"0\" width=\"10\" height=\"10\"> </image> </pattern>\n          <mask id=\"striped-mask\" x=\"0\" y=\"0\" width=\"1\" height=\"1\" >\n            <rect x=\"-1000\" y=\"-1000\" width=\"2000\" height=\"2000\" fill=\"url(#diagonal-stripe-4)\" />\n          </mask>\n          <image href={this.props.mapData.image} preserveAspectRatio=\"none\" x={-1000 * ar} y=\"-1000\" width={2000 * ar} height=\"2000\" \n            onClick={function(evt) {\n              var svg = document.getElementById(\"svg\");\n              var pt = svg.createSVGPoint();\n              pt.x = evt.clientX;\n              pt.y = evt.clientY;\n          \n              // The cursor point, translated into svg coordinates\n              var cursorpt =  pt.matrixTransform(svg.getScreenCTM().inverse());\n              this.props.actions.clickMap(cursorpt.x,cursorpt.y);\n            }.bind(this)}/>\n          {bombs}\n          {walls}\n          {hatches}\n          {mutes}\n          {players}\n          {newWalls}\n        </svg>\n        </div>\n      )\n    }\n  }\n  \n  class Wall extends React.Component {\n    render() {\n      var tl = this.props.topLeft;\n      var sz = this.props.size;\n      var triangleCoords = false;\n      if (this.props.mira) {\n        if (sz.x < sz.y) {\n          if (this.props.mira === 1) {\n            triangleCoords = [\n              {\n                x: tl.x+sz.x,\n                y: tl.y\n              },\n              {\n                x: tl.x+sz.x,\n                y: tl.y+sz.y\n              },\n              {\n                x: tl.x+sz.x+10,\n                y: tl.y+(sz.y/2)\n              },\n            ]\n          } else {\n            triangleCoords = [\n              {\n                x: tl.x,\n                y: tl.y\n              },\n              {\n                x: tl.x,\n                y: tl.y+sz.y\n              },\n              {\n                x: tl.x-10,\n                y: tl.y+(sz.y/2)\n              },\n            ]\n          }\n        } else {\n          if (this.props.mira === 1) {\n            triangleCoords = [\n              {\n                x: tl.x,\n                y: tl.y+sz.y\n              },\n              {\n                x: tl.x+sz.x,\n                y: tl.y+sz.y\n              },\n              {\n                x: tl.x+sz.x/2,\n                y: tl.y+sz.y+10\n              },\n            ]\n          } else {\n            triangleCoords = [\n              {\n                x: tl.x,\n                y: tl.y\n              },\n              {\n                x: tl.x+sz.x,\n                y: tl.y\n              },\n              {\n                x: tl.x+sz.x/2,\n                y: tl.y-10\n              },\n            ]\n          }\n        }\n      }\n      var mira;\n      if (triangleCoords) {\n        mira = (\n          <polygon className=\"mira\" points={triangleCoords.map(item => item.x+\",\"+item.y).join(\" \")} />\n        )\n      }\n      return (\n        <g onClick={() => this.props.onChange(this.props.id)}>\n          <rect\n            className={\"wall\" + (this.props.active ? \" active\" : \"\")}\n            x={this.props.topLeft.x}\n            y={this.props.topLeft.y}\n            width={this.props.size.x}\n            height={this.props.size.y}\n          ></rect>\n          {mira ? mira : \"\"}\n        </g>\n      )\n    }\n  }\n  \n  class Hatch extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        active: false,\n      };\n    }\n    toggleActive() {\n      this.setState({active: (!this.state.active)});\n    }\n    render() {\n      return (\n        <g onClick={() => this.props.onChange(this.props.id)}>\n        <rect\n          className={\"overhatch\" + (this.props.active ? \" active\" : \"\")}\n          x={this.props.overHatch.x}\n          y={this.props.overHatch.y}\n          width={this.props.overHatch.w}\n          height={this.props.overHatch.h}\n        ></rect>\n        { this.props.underHatch !== undefined && <rect\n          className={\"underhatch\" + (this.props.active ? \" active\" : \"\")}\n          x={this.props.underHatch.x}\n          y={this.props.underHatch.y}\n          width={this.props.underHatch.w}\n          height={this.props.underHatch.h}\n          style={{opacity: \"90%\"}}\n          mask=\"url(#striped-mask)\">\n        </rect>\n    }</g>\n      )\n    }\n  }\n  \n  class Bomb extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        topLeft: props.topLeft,\n        size: props.size,\n        text: props.text\n      };\n    }\n    render() {\n      return (\n        <g>\n          <rect\n            x={this.state.topLeft.x}\n            y={this.state.topLeft.y}\n            width={this.state.size.x}\n            height={this.state.size.y}\n            rx=\"5\"\n            ry=\"5\"\n            ></rect>\n          <text\n            x={this.state.topLeft.x+10}\n            y={this.state.topLeft.y+25}\n            className=\"bombText\"\n            >{this.state.text}\n            </text>\n        </g>\n      )\n    }\n  }\n  class Mute extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        topLeft: props.topLeft,\n        size: props.size,\n        text: props.text\n      };\n    }\n    render() {\n      return (\n        <g onClick={() => this.props.onChange(this.props.id)}>\n        <rect\n          x={this.state.topLeft.x}\n          y={this.state.topLeft.y}\n          width={this.state.size.x}\n          height={this.state.size.y}\n          rx={this.state.size.x/3}\n          ry={this.state.size.y/3}\n          style={{fill: \"rgb(255,255,255)\"}}\n          ></rect>\n          <image\n            href=\"res/mute-jammer.svg\"\n            x={this.state.topLeft.x}\n            y={this.state.topLeft.y}\n            width={this.state.size.x}\n            height={this.state.size.y}\n          />\n        </g>\n      )\n    }\n  }\n  class Player extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        topLeft: props.topLeft,\n        size: props.size,\n        text: props.text\n      };\n    }\n    render() {\n      return (\n        <g onClick={() => this.props.onChange(this.props.id)}>\n          <image href=\"res/recruit-blue.svg\"\n            x={this.state.topLeft.x}\n            y={this.state.topLeft.y}\n            width={this.state.size.x}\n            height={this.state.size.y}\n          />\n        </g>\n      )\n    }\n  }\n  class NewWall extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        topLeft: props.topLeft,\n        size: props.size,\n        text: props.text\n      };\n    }\n    render() {\n      return (\n        <g className=\"newWall\" onClick={() => this.props.onChange(this.props.id)}>\n          <rect\n            x={this.state.topLeft.x}\n            y={this.state.topLeft.y}\n            width={this.state.size.x}\n            height={this.state.size.y}\n          />\n        </g>\n      )\n    }\n  }","export const CLICK_WALL = \"CLICK_WALL\";\nexport const CLICK_HATCH = \"CLICK_HATCH\";\nexport const CLICK_MAP = \"CLICK_MAP\";\nexport const CLICK_MUTE = \"CLICK_MUTE\";\nexport const CLICK_PLAYER = \"CLICK_PLAYER\";\nexport const CLICK_REINFORCE_EDIT = \"CLICK_REINFORCE_EDIT\";\nexport const SELECT_TOOL = \"SELECT_TOOL\";\nexport const SELECT_FLOOR = \"SELECT_FLOOR\";\n\nexport const SELECT_MAP = \"SELECT_MAP\";\n\nexport const Tools = {\n    REINFORCE: \"REINFORCE\",\n    MIRA: \"MIRA\",\n    MUTE: \"MUTE\",\n    PLAYER: \"PLAYER\",\n    REINFORCE_EDIT: \"REINFORCE_EDIT\"\n}\n\nexport const Maps = {\n    BANK: \"BANK\",\n    BORDER: \"BORDER\",\n    COASTLINE: \"COASTLINE\",\n    CONSULATE: \"CONSULATE\",\n    KAFE: \"KAFE\",\n    OREGON: \"OREGON\",\n    SKYSCRAPER: \"SKYSCRAPER\"\n}\n\nexport function clickWall(id) {\n    return  {type: CLICK_WALL, id};\n}\nexport function clickMap(x, y) {\n    return  {type: CLICK_MAP, x, y};\n}\nexport function clickPlayer(id) {\n    return  {type: CLICK_PLAYER, id};\n}\nexport function clickMute(id) {\n    return  {type: CLICK_MUTE, id};\n}\nexport function clickHatch(id) {\n    return  {type: CLICK_HATCH, id};\n}\nexport function clickReinforceEdit(id) {\n    return {type: CLICK_REINFORCE_EDIT, id};\n}\nexport function selectTool(id) {\n    return {type: SELECT_TOOL, id};\n}\nexport function selectFloor(id) {\n    return {type: SELECT_FLOOR, id};\n}\nexport function selectMap(id) {\n    return {type: SELECT_MAP, id};\n}","import React from 'react';\nimport {Tools} from '../actions'\n\nclass NavBar extends React.Component {\n    render() {\n      return (\n      <nav>\n        <FloorPicker mapData={this.props.mapsData[this.props.userState.map]} selectedFloor={this.props.ui.floor} selectFloor={this.props.actions.selectFloor}/>\n        <MapPicker onChange={this.props.actions.selectMap} />\n        <ToolPicker selectedTool={this.props.ui.tool} selectTool={this.props.actions.selectTool} userState={this.props.userState}/>\n      </nav>\n      )\n    }\n  }\n  \n  class ToolPicker extends React.Component {\n    render() {\n      const nReinforces = Object.keys(this.props.userState.reinforcedWalls).length+Object.keys(this.props.userState.reinforcedHatches).length;\n      const nMiras = Object.keys(this.props.userState.miras).length;\n      const nMutes = Object.keys(this.props.userState.mutes).length;;\n      const nPlayers = Object.keys(this.props.userState.players).length;\n      return (\n        <div id=\"tool-selector\">\n          <button\n            className={this.props.selectedTool === Tools.REINFORCE ? \"active\" : \"\"}\n            onClick={() => this.props.selectTool(Tools.REINFORCE)}\n            id=\"reinforce-tool\">\n            {nReinforces}\n          </button>\n          <button\n            className={this.props.selectedTool === Tools.MIRA ? \"active\" : \"\"}\n            onClick={() => this.props.selectTool(Tools.MIRA)}\n            id=\"mira-tool\">\n            {nMiras}\n          </button>\n          <button\n            className={this.props.selectedTool === Tools.MUTE ? \"active\" : \"\"}\n            onClick={() => this.props.selectTool(Tools.MUTE)}\n            id=\"mute-tool\">\n            {nMutes}\n          </button>\n          <button\n            className={this.props.selectedTool === Tools.PLAYER ? \"active\" : \"\"}\n            onClick={() => this.props.selectTool(Tools.PLAYER)}\n            id=\"player-tool\">\n            {nPlayers}\n          </button>\n          {/* <button\n            className={this.props.selectedTool === Tools.REINFORCE_EDIT ? \"active\" : \"\"}\n            onClick={() => this.props.selectTool(Tools.REINFORCE_EDIT)}\n            id=\"reinforce-edit-tool\">\n          </button> */}\n        </div>\n      )\n    }\n  }\n  \n  class FloorPicker extends React.Component {\n    render() {\n      const buttons = this.props.mapData.floors.map((floorName, floor) => \n        (\n          <FloorButton\n            key={floor}\n            active={this.props.selectedFloor===floor}\n            floor={floor}\n            floorName={floorName}\n            onClick={this.props.selectFloor}\n          />\n        )\n      );\n      return (\n        <div id=\"floor-selector\">\n          {buttons}\n        </div>\n      )\n    }\n  }\n\n  class MapPicker extends React.Component {\n    render() {\n      return (\n        <select id=\"site-picker\" onChange={(e) => this.props.onChange(e.target.value)}>\n          {/* <option value=\"BANK\">Bank</option>\n          <option value=\"BORDER\">Border</option> */}\n          <option value=\"CLUBHOUSE\">Clubhouse</option>\n        </select>\n      )\n    }\n  }\n  \n  class FloorButton extends React.Component {\n    render() {\n      return (\n      <button\n        className={this.props.active ? \"active\" : \"\"}\n        onClick={() => this.props.onClick(this.props.floor)}>\n          {this.props.floorName}\n      </button>\n      )\n    }\n  }\n\nexport default NavBar;","import React from 'react';\nimport './App.css';\nimport {Map} from './Map';\nimport NavBar from './NavBar';\nimport { connect } from 'react-redux'\nimport { bindActionCreators} from 'redux'\nimport {clickWall, clickHatch, selectTool, selectFloor, selectMap, clickMap, clickMute, clickPlayer, clickReinforceEdit} from '../actions'\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <NavBar mapsData={this.props.data.maps} ui={this.props.ui} actions={this.props.actions} userState={this.props.user}/>\n        <Map mapData={this.props.data.maps[this.props.user.map]} userState={this.props.user} actions={this.props.actions} floor={this.props.ui.floor}/>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return state;\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {actions: bindActionCreators({clickWall, clickHatch, selectTool, selectFloor, selectMap, clickMap, clickMute, clickPlayer, clickReinforceEdit}, dispatch)}\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import bank from '../mapdata/bank.json';\nimport border from '../mapdata/border.json';\nimport clubhouse from '../mapdata/clubhouse.json';\n\nconst maps = {\n    \"BANK\": convertMap(bank),\n    \"BORDER\": convertMap(border),\n    \"CLUBHOUSE\": clubhouse\n}\nfunction convertCoords(coords, aspectRatio) {\n    var res = Object.assign({}, coords);\n    [\"x\", \"w\"].forEach(function (x) {\n        if (coords[x] !== undefined) {\n            res[x] = coords[x]*aspectRatio;\n        }\n    });\n    return res;\n}\nfunction convertMap(md) {\n    var ar = md.aspectRatio;\n    var res = Object.assign({}, md);\n    res.bombs = md.bombs.map(function(bomb) {\n        var res = Object.assign({}, bomb);\n        res.a = convertCoords(bomb.a, ar);\n        res.b = convertCoords(bomb.b, ar);\n        return res;\n    });\n    res.hatches = md.hatches.map(hatch => convertCoords(hatch, ar));\n    res.walls = md.walls.map(wall => convertCoords(wall, ar));\n    return res;\n}\nexport default function(state = {maps: maps}, action) {\n    return state;\n}","import { SELECT_TOOL, SELECT_FLOOR, Tools } from '../actions'\nimport { combineReducers } from 'redux'\n\nexport default combineReducers({\n    tool,\n    floor\n})\n\nfunction floor(state = 0, action) {\n    switch (action.type) {\n        case SELECT_FLOOR:\n            return action.id;\n        default:\n            return state\n    }\n}\n\nfunction tool(state = Tools.REINFORCE, action) {\n    switch (action.type) {\n        case SELECT_TOOL:\n            return action.id;\n        default:\n            return state\n    }\n}","import { Tools, CLICK_WALL, CLICK_HATCH, SELECT_MAP, CLICK_MAP, CLICK_MUTE, CLICK_PLAYER, CLICK_REINFORCE_EDIT } from '../actions'\n\nexport default function (state = {}, action, tool = Tools.REINFORCE) {\n    return {\n        map: map(state.map, action),\n        miras: miras(state.miras, action, tool),\n        mutes: mutes(state.mutes, action, tool),\n        players: players(state.players, action, tool),\n        reinforcedWalls: reinforcedWalls(state.reinforcedWalls, action, tool),\n        reinforcedHatches: reinforcedHatches(state.reinforcedHatches, action, tool),\n        newWalls: newWalls(state.newWalls, action, tool)\n    }\n}\nfunction map(state = \"CLUBHOUSE\", action) {\n    if (action.type !== SELECT_MAP) {\n        return state;\n    }\n    return action.id;\n}\nfunction players(state = {}, action, tool) {\n    if (action.type === SELECT_MAP) {\n        return [];\n    }\n    if ((tool !== Tools.PLAYER) || ((action.type !== CLICK_MAP) && (action.type !== CLICK_PLAYER))) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.id in state) {\n        delete res[action.id];\n    } else {\n        const x = action.x;\n        const y = action.y;\n        res[(x+9000)*2000 + y] = {x: action.x-15, y: action.y-15, w: 30, h: 30};\n    }\n    return res\n}\nfunction mutes(state = {}, action, tool) {\n    if (action.type === SELECT_MAP) {\n        return [];\n    }\n    if ((tool !== Tools.MUTE) || ((action.type !== CLICK_MAP) && (action.type !== CLICK_MUTE))) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.id in state) {\n        delete res[action.id];\n    } else {\n        const x = action.x;\n        const y = action.y;\n        res[(x+9000)*2000 + y] = {x: action.x-10, y: action.y-10, w: 20, h: 20};\n    }\n    return res\n}\nfunction miras(state = {}, action, tool) {\n    if (action.type === SELECT_MAP) {\n        return [];\n    }\n    if (tool !== Tools.MIRA || action.type !== CLICK_WALL) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.id in state) {\n        if (state[action.id] === 2) {\n            delete res[action.id];\n            return res;\n        } else {\n            res[action.id] = 2;\n            return res;\n        }\n    } else {\n        res[action.id] = 1;\n        return res;\n    }\n}\n\nfunction reinforcedWalls(state = [], action, tool) {\n    if (action.type === SELECT_MAP) {\n        return [];\n    }\n    if (tool !== Tools.REINFORCE || action.type !== CLICK_WALL) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.id in state) {\n        delete res[action.id];\n    } else {\n        res[action.id] = true;\n    }\n    return res\n}\n\nfunction reinforcedHatches(state = [], action, tool) {\n    if (action.type === SELECT_MAP) {\n        return [];\n    }\n    if (tool !== Tools.REINFORCE || action.type !== CLICK_HATCH) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.id in state) {\n        delete res[action.id];\n    } else {\n        res[action.id] = true;\n    }\n    console.log(action.id);\n    return res\n}\n\nfunction newWalls(state = {walls: {}}, action, tool) {\n    if (action.type === SELECT_MAP) {\n        return {walls: {}};\n    }\n    if (tool !== Tools.REINFORCE_EDIT) {\n        return state;\n    }\n    if (action.type !== CLICK_MAP && action.type !== CLICK_REINFORCE_EDIT) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.type === CLICK_MAP) {\n        if (state.firstClick !== undefined) {\n            var ptA = state.firstClick;\n            var x = 0;\n            var y = 0;\n            var w = 0;\n            var h = 0;\n\n            if (ptA.x < action.x) {\n                x = ptA.x;\n                w = action.x - ptA.x;\n            } else {\n                x = action.x;\n                w = ptA.x - action.x;\n            }\n            if (ptA.y < action.y) {\n                y = ptA.y;\n                h = action.y - ptA.y;\n            } else {\n                y = action.y;\n                h = ptA.y - action.y;\n            }\n            var key = x * 20000 + y;\n            res.firstClick = undefined;\n            res.walls[key] = {x,y,w,h};\n        } else {\n            res.firstClick = {x: action.x, y: action.y};\n        }\n    } else {\n        delete res.walls[action.id];\n        res.firstClick = undefined;\n    }\n    console.log(JSON.stringify(Object.values(res.walls), null, 2));\n    return res\n}","import data from './data'\nimport ui from './ui'\nimport user from './user'\n\nexport default function(state = [], action) {\n    const res = {\n        data: data(state.data, action),\n        ui: ui(state.ui, action),\n        user: user(state.user, action, state.ui && state.ui ? state.ui.tool : null)\n    }\n    return res;\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport './index.css';\nimport App from './components/App';\nimport rootReducer from './reducers'\n\nconst store = createStore(rootReducer)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}