{"version":3,"sources":["components/Map.js","actions/index.js","components/NavBar.js","components/App.js","reducers/data.js","reducers/ui.js","reducers/user.js","reducers/index.js","index.js"],"names":["Map","bombs","this","props","mapData","map","item","i","key","site","className","text","topLeft","a","size","x","y","b","ar","aspectRatio","walls","id","mira","userState","miras","w","h","onChange","actions","clickWall","active","reinforcedWalls","hatches","overHatch","underHatch","clickHatch","reinforcedHatches","mutes","Object","keys","k","clickMute","bind","players","clickPlayer","newWalls","clickReinforceEdit","viewBoxes","viewBox","floor","preserveAspectRatio","patternUnits","width","height","xlinkHref","fill","href","image","onClick","evt","svg","document","getElementById","pt","createSVGPoint","clientX","clientY","cursorpt","matrixTransform","getScreenCTM","inverse","clickMap","React","Component","Wall","tl","sz","triangleCoords","points","join","Hatch","state","setState","undefined","mask","Bomb","rx","ry","Mute","style","Player","NewWall","CLICK_WALL","CLICK_HATCH","CLICK_MAP","CLICK_MUTE","CLICK_PLAYER","CLICK_REINFORCE_EDIT","SELECT_TOOL","SELECT_FLOOR","SELECT_MAP","Tools","REINFORCE","MIRA","MUTE","PLAYER","REINFORCE_EDIT","type","selectTool","selectFloor","selectMap","NavBar","mapsData","selectedFloor","ui","selectedTool","tool","ToolPicker","nReinforces","length","nMiras","nMutes","nPlayers","FloorPicker","buttons","floors","floorName","MapPicker","e","target","value","FloorButton","App","data","maps","user","connect","dispatch","bindActionCreators","convertMap","bank","border","clubhouse","convertCoords","coords","res","assign","forEach","md","bomb","hatch","wall","combineReducers","action","console","log","firstClick","ptA","JSON","stringify","values","store","createStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.cb0f3a05.chunk.js","sourcesContent":["import React from 'react';\n\nexport class Map extends React.Component {\n    render() {\n      const bombs = this.props.mapData.bombs.map((item, i) =>\n        <g key={item.site} className={\"bomb\"+(i+1)}>\n          <Bomb text=\"a\" topLeft={item.a} size={{x:30, y:40}} />\n          <Bomb text=\"b\" topLeft={item.b} size={{x:30, y:40}} />\n        </g>\n      );\n      const ar = this.props.mapData.aspectRatio;\n      const walls = this.props.mapData.walls.map((item, i) =>\n        <Wall key={i} id={i} mira={i in this.props.userState.miras ? this.props.userState.miras[i] : false} topLeft={{x: item.x, y: item.y}} size={{x: item.w, y:item.h}} onChange={this.props.actions.clickWall}\n        active={i in this.props.userState.reinforcedWalls}/>\n      );\n      const hatches = this.props.mapData.hatches.map((item, i) =>\n        <Hatch key={i} id={i} overHatch={item[0]} underHatch={item[1]} onChange={this.props.actions.clickHatch}\n        active={i in this.props.userState.reinforcedHatches}/>\n      );\n      const mutes = Object.keys(this.props.userState.mutes).map(function(k) {\n        const item = this.props.userState.mutes[k];\n        return <Mute key={k} id={k} topLeft={{x: item.x, y: item.y}} size={{x: item.w, y:item.h}} onChange={this.props.actions.clickMute} />\n      }.bind(this));\n      const players = Object.keys(this.props.userState.players).map(function(k) {\n        const item = this.props.userState.players[k];\n        return <Player key={k} id={k} topLeft={{x: item.x, y: item.y}} size={{x: item.w, y:item.h}} onChange={this.props.actions.clickPlayer} />\n      }.bind(this));\n\n      const newWalls = Object.keys(this.props.userState.newWalls.walls).map(function(k) {\n        const item = this.props.userState.newWalls.walls[k];\n        return <NewWall key={k} id={k} topLeft={{x: item.x, y: item.y}} size={{x: item.w, y:item.h}} onChange={this.props.actions.clickReinforceEdit} />\n      }.bind(this));\n      const viewBoxes = [[-1000 * ar , -1000, 1000 * ar, 1000], [0, -1000, 1000 * ar, 1000], [-1000 * ar, 0, 1000 * ar, 1000], [0, 0, 1000 * ar, 1000]];\n      return (\n        <div id=\"map\">\n        <svg id=\"svg\" viewBox={viewBoxes[this.props.floor]} preserveAspectRatio=\"xMidYMid meet\">\n          <pattern id=\"diagonal-stripe-4\" patternUnits=\"userSpaceOnUse\" width=\"10\" height=\"10\"> <image xlinkHref=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSdibGFjaycvPgogIDxwYXRoIGQ9J00tMSwxIGwyLC0yCiAgICAgICAgICAgTTAsMTAgbDEwLC0xMAogICAgICAgICAgIE05LDExIGwyLC0yJyBzdHJva2U9J3doaXRlJyBzdHJva2Utd2lkdGg9JzMnLz4KPC9zdmc+\" x=\"0\" y=\"0\" width=\"10\" height=\"10\"> </image> </pattern>\n          <mask id=\"striped-mask\" x=\"0\" y=\"0\" width=\"1\" height=\"1\" >\n            <rect x=\"-1000\" y=\"-1000\" width=\"2000\" height=\"2000\" fill=\"url(#diagonal-stripe-4)\" />\n          </mask>\n          <image href={this.props.mapData.image} preserveAspectRatio=\"none\" x={-1000 * ar} y=\"-1000\" width={2000 * ar} height=\"2000\" \n            onClick={function(evt) {\n              var svg = document.getElementById(\"svg\");\n              var pt = svg.createSVGPoint();\n              pt.x = evt.clientX;\n              pt.y = evt.clientY;\n          \n              // The cursor point, translated into svg coordinates\n              var cursorpt =  pt.matrixTransform(svg.getScreenCTM().inverse());\n              this.props.actions.clickMap(cursorpt.x,cursorpt.y);\n            }.bind(this)}/>\n          {bombs}\n          {walls}\n          {hatches}\n          {mutes}\n          {players}\n          {newWalls}\n        </svg>\n        </div>\n      )\n    }\n  }\n  \n  class Wall extends React.Component {\n    render() {\n      var tl = this.props.topLeft;\n      var sz = this.props.size;\n      var triangleCoords = false;\n      if (this.props.mira) {\n        if (sz.x < sz.y) {\n          if (this.props.mira === 1) {\n            triangleCoords = [\n              {\n                x: tl.x+sz.x,\n                y: tl.y\n              },\n              {\n                x: tl.x+sz.x,\n                y: tl.y+sz.y\n              },\n              {\n                x: tl.x+sz.x+10,\n                y: tl.y+(sz.y/2)\n              },\n            ]\n          } else {\n            triangleCoords = [\n              {\n                x: tl.x,\n                y: tl.y\n              },\n              {\n                x: tl.x,\n                y: tl.y+sz.y\n              },\n              {\n                x: tl.x-10,\n                y: tl.y+(sz.y/2)\n              },\n            ]\n          }\n        } else {\n          if (this.props.mira === 1) {\n            triangleCoords = [\n              {\n                x: tl.x,\n                y: tl.y+sz.y\n              },\n              {\n                x: tl.x+sz.x,\n                y: tl.y+sz.y\n              },\n              {\n                x: tl.x+sz.x/2,\n                y: tl.y+sz.y+10\n              },\n            ]\n          } else {\n            triangleCoords = [\n              {\n                x: tl.x,\n                y: tl.y\n              },\n              {\n                x: tl.x+sz.x,\n                y: tl.y\n              },\n              {\n                x: tl.x+sz.x/2,\n                y: tl.y-10\n              },\n            ]\n          }\n        }\n      }\n      var mira;\n      if (triangleCoords) {\n        mira = (\n          <polygon className=\"mira\" points={triangleCoords.map(item => item.x+\",\"+item.y).join(\" \")} />\n        )\n      }\n      return (\n        <g onClick={() => this.props.onChange(this.props.id)}>\n          <rect\n            className={\"wall\" + (this.props.active ? \" active\" : \"\")}\n            x={this.props.topLeft.x}\n            y={this.props.topLeft.y}\n            width={this.props.size.x}\n            height={this.props.size.y}\n          ></rect>\n          {mira ? mira : \"\"}\n        </g>\n      )\n    }\n  }\n  \n  class Hatch extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        active: false,\n      };\n    }\n    toggleActive() {\n      this.setState({active: (!this.state.active)});\n    }\n    render() {\n      return (\n        <g onClick={() => this.props.onChange(this.props.id)}>\n        <rect\n          className={\"overhatch\" + (this.props.active ? \" active\" : \"\")}\n          x={this.props.overHatch.x}\n          y={this.props.overHatch.y}\n          width={this.props.overHatch.w}\n          height={this.props.overHatch.h}\n        ></rect>\n        { this.props.underHatch !== undefined && <rect\n          className={\"underhatch\" + (this.props.active ? \" active\" : \"\")}\n          x={this.props.underHatch.x}\n          y={this.props.underHatch.y}\n          width={this.props.underHatch.w}\n          height={this.props.underHatch.h}\n          mask=\"url(#striped-mask)\">\n        </rect>\n    }</g>\n      )\n    }\n  }\n  \n  class Bomb extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        topLeft: props.topLeft,\n        size: props.size,\n        text: props.text\n      };\n    }\n    render() {\n      return (\n        <g>\n          <rect\n            x={this.state.topLeft.x}\n            y={this.state.topLeft.y}\n            width={this.state.size.x}\n            height={this.state.size.y}\n            rx=\"5\"\n            ry=\"5\"\n            ></rect>\n          <text\n            x={this.state.topLeft.x+10}\n            y={this.state.topLeft.y+25}\n            className=\"bombText\"\n            >{this.state.text}\n            </text>\n        </g>\n      )\n    }\n  }\n  class Mute extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        topLeft: props.topLeft,\n        size: props.size,\n        text: props.text\n      };\n    }\n    render() {\n      return (\n        <g onClick={() => this.props.onChange(this.props.id)}>\n        <rect\n          x={this.state.topLeft.x}\n          y={this.state.topLeft.y}\n          width={this.state.size.x}\n          height={this.state.size.y}\n          rx={this.state.size.x/3}\n          ry={this.state.size.y/3}\n          style={{fill: \"rgb(255,255,255)\"}}\n          ></rect>\n          <image\n            href=\"res/mute-jammer.svg\"\n            x={this.state.topLeft.x}\n            y={this.state.topLeft.y}\n            width={this.state.size.x}\n            height={this.state.size.y}\n          />\n        </g>\n      )\n    }\n  }\n  class Player extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        topLeft: props.topLeft,\n        size: props.size,\n        text: props.text\n      };\n    }\n    render() {\n      return (\n        <g onClick={() => this.props.onChange(this.props.id)}>\n          <image href=\"res/recruit-blue.svg\"\n            x={this.state.topLeft.x}\n            y={this.state.topLeft.y}\n            width={this.state.size.x}\n            height={this.state.size.y}\n          />\n        </g>\n      )\n    }\n  }\n  class NewWall extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        topLeft: props.topLeft,\n        size: props.size,\n        text: props.text\n      };\n    }\n    render() {\n      return (\n        <g className=\"newWall\" onClick={() => this.props.onChange(this.props.id)}>\n          <rect\n            x={this.state.topLeft.x}\n            y={this.state.topLeft.y}\n            width={this.state.size.x}\n            height={this.state.size.y}\n          />\n        </g>\n      )\n    }\n  }","export const CLICK_WALL = \"CLICK_WALL\";\nexport const CLICK_HATCH = \"CLICK_HATCH\";\nexport const CLICK_MAP = \"CLICK_MAP\";\nexport const CLICK_MUTE = \"CLICK_MUTE\";\nexport const CLICK_PLAYER = \"CLICK_PLAYER\";\nexport const CLICK_REINFORCE_EDIT = \"CLICK_REINFORCE_EDIT\";\nexport const SELECT_TOOL = \"SELECT_TOOL\";\nexport const SELECT_FLOOR = \"SELECT_FLOOR\";\n\nexport const SELECT_MAP = \"SELECT_MAP\";\n\nexport const Tools = {\n    REINFORCE: \"REINFORCE\",\n    MIRA: \"MIRA\",\n    MUTE: \"MUTE\",\n    PLAYER: \"PLAYER\",\n    REINFORCE_EDIT: \"REINFORCE_EDIT\"\n}\n\nexport const Maps = {\n    BANK: \"BANK\",\n    BORDER: \"BORDER\",\n    COASTLINE: \"COASTLINE\",\n    CONSULATE: \"CONSULATE\",\n    KAFE: \"KAFE\",\n    OREGON: \"OREGON\",\n    SKYSCRAPER: \"SKYSCRAPER\"\n}\n\nexport function clickWall(id) {\n    return  {type: CLICK_WALL, id};\n}\nexport function clickMap(x, y) {\n    return  {type: CLICK_MAP, x, y};\n}\nexport function clickPlayer(id) {\n    return  {type: CLICK_PLAYER, id};\n}\nexport function clickMute(id) {\n    return  {type: CLICK_MUTE, id};\n}\nexport function clickHatch(id) {\n    return  {type: CLICK_HATCH, id};\n}\nexport function clickReinforceEdit(id) {\n    return {type: CLICK_REINFORCE_EDIT, id};\n}\nexport function selectTool(id) {\n    return {type: SELECT_TOOL, id};\n}\nexport function selectFloor(id) {\n    return {type: SELECT_FLOOR, id};\n}\nexport function selectMap(id) {\n    return {type: SELECT_MAP, id};\n}","import React from 'react';\nimport {Tools} from '../actions'\n\nclass NavBar extends React.Component {\n    render() {\n      return (\n      <nav>\n        <FloorPicker mapData={this.props.mapsData[this.props.userState.map]} selectedFloor={this.props.ui.floor} selectFloor={this.props.actions.selectFloor}/>\n        <MapPicker onChange={this.props.actions.selectMap} />\n        <ToolPicker selectedTool={this.props.ui.tool} selectTool={this.props.actions.selectTool} userState={this.props.userState}/>\n      </nav>\n      )\n    }\n  }\n  \n  class ToolPicker extends React.Component {\n    render() {\n      const nReinforces = Object.keys(this.props.userState.reinforcedWalls).length+Object.keys(this.props.userState.reinforcedHatches).length;\n      const nMiras = Object.keys(this.props.userState.miras).length;\n      const nMutes = Object.keys(this.props.userState.mutes).length;;\n      const nPlayers = Object.keys(this.props.userState.players).length;\n      return (\n        <div id=\"tool-selector\">\n          <button\n            className={this.props.selectedTool === Tools.REINFORCE ? \"active\" : \"\"}\n            onClick={() => this.props.selectTool(Tools.REINFORCE)}\n            id=\"reinforce-tool\">\n            {nReinforces}\n          </button>\n          <button\n            className={this.props.selectedTool === Tools.MIRA ? \"active\" : \"\"}\n            onClick={() => this.props.selectTool(Tools.MIRA)}\n            id=\"mira-tool\">\n            {nMiras}\n          </button>\n          <button\n            className={this.props.selectedTool === Tools.MUTE ? \"active\" : \"\"}\n            onClick={() => this.props.selectTool(Tools.MUTE)}\n            id=\"mute-tool\">\n            {nMutes}\n          </button>\n          <button\n            className={this.props.selectedTool === Tools.PLAYER ? \"active\" : \"\"}\n            onClick={() => this.props.selectTool(Tools.PLAYER)}\n            id=\"player-tool\">\n            {nPlayers}\n          </button>\n          {/* <button\n            className={this.props.selectedTool === Tools.REINFORCE_EDIT ? \"active\" : \"\"}\n            onClick={() => this.props.selectTool(Tools.REINFORCE_EDIT)}\n            id=\"reinforce-edit-tool\">\n          </button> */}\n        </div>\n      )\n    }\n  }\n  \n  class FloorPicker extends React.Component {\n    render() {\n      const buttons = this.props.mapData.floors.map((floorName, floor) => \n        (\n          <FloorButton\n            key={floor}\n            active={this.props.selectedFloor===floor}\n            floor={floor}\n            floorName={floorName}\n            onClick={this.props.selectFloor}\n          />\n        )\n      );\n      return (\n        <div id=\"floor-selector\">\n          {buttons}\n        </div>\n      )\n    }\n  }\n\n  class MapPicker extends React.Component {\n    render() {\n      return (\n        <select id=\"site-picker\" onChange={(e) => this.props.onChange(e.target.value)}>\n          {/* <option value=\"BANK\">Bank</option>\n          <option value=\"BORDER\">Border</option> */}\n          <option value=\"CLUBHOUSE\">Clubhouse</option>\n        </select>\n      )\n    }\n  }\n  \n  class FloorButton extends React.Component {\n    render() {\n      return (\n      <button\n        className={this.props.active ? \"active\" : \"\"}\n        onClick={() => this.props.onClick(this.props.floor)}>\n          {this.props.floorName}\n      </button>\n      )\n    }\n  }\n\nexport default NavBar;","import React from 'react';\nimport './App.css';\nimport {Map} from './Map';\nimport NavBar from './NavBar';\nimport { connect } from 'react-redux'\nimport { bindActionCreators} from 'redux'\nimport {clickWall, clickHatch, selectTool, selectFloor, selectMap, clickMap, clickMute, clickPlayer, clickReinforceEdit} from '../actions'\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <NavBar mapsData={this.props.data.maps} ui={this.props.ui} actions={this.props.actions} userState={this.props.user}/>\n        <Map mapData={this.props.data.maps[this.props.user.map]} userState={this.props.user} actions={this.props.actions} floor={this.props.ui.floor}/>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return state;\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {actions: bindActionCreators({clickWall, clickHatch, selectTool, selectFloor, selectMap, clickMap, clickMute, clickPlayer, clickReinforceEdit}, dispatch)}\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import bank from '../mapdata/bank.json';\nimport border from '../mapdata/border.json';\nimport clubhouse from '../mapdata/clubhouse.json';\n\nconst maps = {\n    \"BANK\": convertMap(bank),\n    \"BORDER\": convertMap(border),\n    \"CLUBHOUSE\": clubhouse\n}\nfunction convertCoords(coords, aspectRatio) {\n    var res = Object.assign({}, coords);\n    [\"x\", \"w\"].forEach(function (x) {\n        if (coords[x] !== undefined) {\n            res[x] = coords[x]*aspectRatio;\n        }\n    });\n    return res;\n}\nfunction convertMap(md) {\n    var ar = md.aspectRatio;\n    var res = Object.assign({}, md);\n    res.bombs = md.bombs.map(function(bomb) {\n        var res = Object.assign({}, bomb);\n        res.a = convertCoords(bomb.a, ar);\n        res.b = convertCoords(bomb.b, ar);\n        return res;\n    });\n    res.hatches = md.hatches.map(hatch => convertCoords(hatch, ar));\n    res.walls = md.walls.map(wall => convertCoords(wall, ar));\n    return res;\n}\nexport default function(state = {maps: maps}, action) {\n    return state;\n}","import { SELECT_TOOL, SELECT_FLOOR, Tools } from '../actions'\nimport { combineReducers } from 'redux'\n\nexport default combineReducers({\n    tool,\n    floor\n})\n\nfunction floor(state = 0, action) {\n    switch (action.type) {\n        case SELECT_FLOOR:\n            return action.id;\n        default:\n            return state\n    }\n}\n\nfunction tool(state = Tools.REINFORCE, action) {\n    switch (action.type) {\n        case SELECT_TOOL:\n            return action.id;\n        default:\n            return state\n    }\n}","import { Tools, CLICK_WALL, CLICK_HATCH, SELECT_MAP, CLICK_MAP, CLICK_MUTE, CLICK_PLAYER, CLICK_REINFORCE_EDIT } from '../actions'\n\nexport default function (state = {}, action, tool = Tools.REINFORCE) {\n    return {\n        map: map(state.map, action),\n        miras: miras(state.miras, action, tool),\n        mutes: mutes(state.mutes, action, tool),\n        players: players(state.players, action, tool),\n        reinforcedWalls: reinforcedWalls(state.reinforcedWalls, action, tool),\n        reinforcedHatches: reinforcedHatches(state.reinforcedHatches, action, tool),\n        newWalls: newWalls(state.newWalls, action, tool)\n    }\n}\nfunction map(state = \"CLUBHOUSE\", action) {\n    if (action.type !== SELECT_MAP) {\n        return state;\n    }\n    return action.id;\n}\nfunction players(state = {}, action, tool) {\n    if (action.type === SELECT_MAP) {\n        return [];\n    }\n    if ((tool !== Tools.PLAYER) || ((action.type !== CLICK_MAP) && (action.type !== CLICK_PLAYER))) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.id in state) {\n        delete res[action.id];\n    } else {\n        const x = action.x;\n        const y = action.y;\n        res[(x+9000)*2000 + y] = {x: action.x-15, y: action.y-15, w: 30, h: 30};\n    }\n    return res\n}\nfunction mutes(state = {}, action, tool) {\n    if (action.type === SELECT_MAP) {\n        return [];\n    }\n    if ((tool !== Tools.MUTE) || ((action.type !== CLICK_MAP) && (action.type !== CLICK_MUTE))) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.id in state) {\n        delete res[action.id];\n    } else {\n        const x = action.x;\n        const y = action.y;\n        res[(x+9000)*2000 + y] = {x: action.x-10, y: action.y-10, w: 20, h: 20};\n    }\n    return res\n}\nfunction miras(state = {}, action, tool) {\n    if (action.type === SELECT_MAP) {\n        return [];\n    }\n    if (tool !== Tools.MIRA || action.type !== CLICK_WALL) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.id in state) {\n        if (state[action.id] === 2) {\n            delete res[action.id];\n            return res;\n        } else {\n            res[action.id] = 2;\n            return res;\n        }\n    } else {\n        res[action.id] = 1;\n        return res;\n    }\n}\n\nfunction reinforcedWalls(state = [], action, tool) {\n    if (action.type === SELECT_MAP) {\n        return [];\n    }\n    if (tool !== Tools.REINFORCE || action.type !== CLICK_WALL) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.id in state) {\n        delete res[action.id];\n    } else {\n        res[action.id] = true;\n    }\n    return res\n}\n\nfunction reinforcedHatches(state = [], action, tool) {\n    if (action.type === SELECT_MAP) {\n        return [];\n    }\n    if (tool !== Tools.REINFORCE || action.type !== CLICK_HATCH) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.id in state) {\n        delete res[action.id];\n    } else {\n        res[action.id] = true;\n    }\n    console.log(action.id);\n    return res\n}\n\nfunction newWalls(state = {walls: {}}, action, tool) {\n    if (action.type === SELECT_MAP) {\n        return {walls: {}};\n    }\n    if (tool !== Tools.REINFORCE_EDIT) {\n        return state;\n    }\n    if (action.type !== CLICK_MAP && action.type !== CLICK_REINFORCE_EDIT) {\n        return state;\n    }\n    const res = Object.assign({}, state)\n    if (action.type === CLICK_MAP) {\n        if (state.firstClick !== undefined) {\n            var ptA = state.firstClick;\n            var x = 0;\n            var y = 0;\n            var w = 0;\n            var h = 0;\n\n            if (ptA.x < action.x) {\n                x = ptA.x;\n                w = action.x - ptA.x;\n            } else {\n                x = action.x;\n                w = ptA.x - action.x;\n            }\n            if (ptA.y < action.y) {\n                y = ptA.y;\n                h = action.y - ptA.y;\n            } else {\n                y = action.y;\n                h = ptA.y - action.y;\n            }\n            var key = x * 20000 + y;\n            res.firstClick = undefined;\n            res.walls[key] = {x,y,w,h};\n        } else {\n            res.firstClick = {x: action.x, y: action.y};\n        }\n    } else {\n        delete res.walls[action.id];\n        res.firstClick = undefined;\n    }\n    console.log(JSON.stringify(Object.values(res.walls), null, 2));\n    return res\n}","import data from './data'\nimport ui from './ui'\nimport user from './user'\n\nexport default function(state = [], action) {\n    const res = {\n        data: data(state.data, action),\n        ui: ui(state.ui, action),\n        user: user(state.user, action, state.ui && state.ui ? state.ui.tool : null)\n    }\n    return res;\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport './index.css';\nimport App from './components/App';\nimport rootReducer from './reducers'\n\nconst store = createStore(rootReducer)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}